<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Atoms demo â€” dynamic fn registry</title>
    </head>
    <body>
        <link rel="stylesheet" href="./src/style.css" />
        <script type="module">
            import './src/Lib/BaseComponent/baseComponent.ts';
            import themeData from './dataUtils/themeData.ts';
            import getCookie from './src/utils/documentEntry/getCookie.ts';
            // Json imports =====
            import sampleMegaDemoJson from './dataUtils/sampleMegaDemo.ts';
            import forceGraphJson from './dataUtils/forceGraph.ts';
            import cytoscapeGraph from "./dataUtils/cytoscape.ts"

            const rootElement = document.createElement('base-ui-element');
            rootElement.registry = new Map();

            // rootElement.plan = sampleMegaDemoJson;
            // rootElement.plan = forceGraphJson;
            rootElement.plan = cytoscapeGraph;
            document.body.appendChild(rootElement);
            rootElement.designSystemService.register('Core', themeData);

            async function init() {
                const username = getCookie('userName');
                const password = getCookie('password');
                if (username && password) {
                    rootElement.routerService.navigate('/');
                } else {
                    rootElement.routerService.emptyPathToRestore();
                    rootElement.routerService.navigate('/login');
                }
            }

            init();
        </script>
    </body>
</html>
